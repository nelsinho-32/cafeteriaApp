<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Pedidos</title>
    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="orders.css">
    <link rel="stylesheet" href="../../assets/css/index.css">
    <script src="../../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../src/index.js" type="module" defer></script>
</head>

<body>
    <header id="header-placeholder"></header>
    <main>
        <div class="container my-5">
            <h1 class="display-5 fw-bold mb-4 text-center">Meus Pedidos</h1>
            <div class="container-pedidos">
                <!-- Pedido 1 -->
                <div class="pedido-item card mb-4 shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span class="pedido-id fw-bold">Pedido #12345</span>
                        <span class="pedido-status text-warning">Status: Em Preparação</span>
                    </div>
                    <div class="card-body">
                        <p><strong>Itens:</strong></p>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Coxinha de Bacalhau - R$ 14,99</li>
                            <li class="list-group-item">Combo entrada - R$ 19,99</li>
                            <li class="list-group-item">Capuccino - R$ 9,99</li>
                            <li class="list-group-item">Frete - R$ 5,00</li>
                        </ul>
                        <p class="mt-3"><strong>Total:</strong> R$ 49,97</p>
                    </div>
                </div>
                <!-- Pedido 2 -->
                <div class="pedido-item card mb-4 shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span class="pedido-id fw-bold">Pedido #123456</span>
                        <span class="pedido-status text-success">Status: Entregue</span>
                    </div>
                    <div class="card-body">
                        <p><strong>Itens:</strong></p>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Café Tradicional - R$ 4,99</li>
                            <li class="list-group-item">Croissant Recheado - R$ 8,99</li>
                            <li class="list-group-item">Brownie de Chocolate - R$ 6,99</li>
                            <li class="list-group-item">Frete - R$ 5,00</li>
                        </ul>
                        <p class="mt-3"><strong>Total:</strong> R$ 25,97</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer id="footer-placeholder" class="footer"></footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cartContainer = document.querySelector('.container-pedidos');

            // Recupera os itens do carrinho do localStorage
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

            // Verifica se há itens no carrinho
            if (cartItems.length === 0) {
                cartContainer.innerHTML = '<p class="text-center">Nenhum pedido encontrado.</p>';
                return;
            }

            // Gera os pedidos dinamicamente
            cartItems.forEach((item, index) => {
                const pedidoHTML = `
                    <div class="pedido-item card mb-4 shadow-sm">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <span class="pedido-id fw-bold">Pedido #${index + 1}</span>
                            <span class="pedido-status text-warning">Status: Em Preparação</span>
                        </div>
                        <div class="card-body">
                            <p><strong>Itens:</strong></p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">${item.name} - ${item.price}</li>
                            </ul>
                            <p class="mt-3"><strong>Total:</strong> ${item.price}</p>
                        </div>
                    </div>
                `;
                cartContainer.innerHTML += pedidoHTML;
            });
        });
    </script>
</body>

</html>